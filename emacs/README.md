# Emacs Terminal Dev Setup

This config is tuned for terminal-based development with:
- C++/CUDA + CMake presets
- Rust + cargo
- Python + uv
- Git workflows in Emacs (via `magit`)

## What Is Included

- LSP via `lsp-mode` for C/C++/CUDA, Rust, and Python
- Terminal-friendly defaults (`tty-escape-delay`, no GUI bars, `xterm-mouse-mode`)
- Project navigation via `projectile`
- VCS with `magit`
- Stack-specific build/test helpers under `C-c m`

## Keybinding Prefix

All build/test helpers are under:

- `C-c m`

### C++/CUDA + CMake presets

- `C-c m c c` -> `cmake --preset <configure-preset>`
- `C-c m c b` -> `cmake --build --preset <build-preset>`
  - Falls back to `cmake --build build/<configure-preset>` if no `buildPresets` exist.
- `C-c m c t` -> `ctest --preset <test-preset>`
  - Falls back to `ctest --test-dir build` if no `testPresets` exist.

Expected project files:
- `CMakePresets.json` at project root

### Rust + cargo

- `C-c m r c` -> `cargo check`
- `C-c m r t` -> `cargo test`
- `C-c m r l` -> `cargo clippy`

Expected project files:
- `Cargo.toml` at project root

### Python + uv

- `C-c m p s` -> `uv sync`
- `C-c m p t` -> `uv run -m pytest`
- `C-c m p r` -> prompt for custom `uv run ...` command

Expected project files:
- `pyproject.toml` at project root
- Optional `.venv/` at project root (auto-activated in `python-mode`)

## Git Workflow

- Open status: `M-x magit-status`
- Use Projectile to jump between repos and files with `C-c p ...`

## Projectile Cheat Sheet

- `C-c p f` -> find file in project
- `C-c p s g` -> ripgrep search in project
- `C-c p p` -> switch projects
- `C-c p r` -> recent files in project
- `C-c p k` -> kill all project buffers
- `C-c p d` -> open project root directory
- Project roots are detected via `.git` or common build files; add a `.projectile` file at the root if needed.

## Notes

- On Emacs 29+, this setup works well in TTY sessions (tmux/SSH/local terminal).
- For C++/CUDA IntelliSense quality, ensure compile commands are generated by your presets.

## Render Markdown and PlantUML to PDF

Markdown (via `pandoc`):
- Render single file:
  - `pandoc README.md -o README.pdf`
- If you want PDF via LaTeX, ensure a LaTeX engine is installed (e.g. `texlive`).

PlantUML (CLI):
- Render `.puml` to PDF:
  - `plantuml -tpdf diagram.puml`
- Output PDF is created next to the source file.
